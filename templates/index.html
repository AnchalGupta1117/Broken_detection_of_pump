
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sensor Breakdown Detection</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light">

  <div class="container py-5">
    <div class="text-center mb-5">
      <h1 class="display-5 fw-bold text-info">Sensor Breakdown Detection</h1>
      <p class="lead text-white-80">Upload your sensor data CSV file and visualize the breakdown periods and FFT insights.</p>
    </div>




    <div class="sample-section border border-info rounded-4 p-4 mb-5 ">
      <h5 class="text-info fw-semibold mb-3 d-flex align-items-center fs-5">
        <span class="me-2 bg-info rounded-circle d-inline-block" style="width: 12px; height: 12px;"></span>
        Try with Sample Files
      </h5>

      <div class="d-flex justify-content-between flex-wrap gap-5">
        <!-- Download Buttons Left -->
        <div class="d-flex flex-wrap gap-2">
          <a href="{{ url_for('static', filename='samples/sample1.csv') }}" class="btn btn-sm btn-sample1">ðŸ“¥ Download Sample 1</a>
          <a href="{{ url_for('static', filename='samples/sample2.csv') }}" class="btn btn-sm btn-sample2">ðŸ“¥ Download Sample 2</a>
          <a href="{{ url_for('static', filename='samples/sample3.csv') }}" class="btn btn-sm btn-sample3">ðŸ“¥ Download Sample 3</a>
        </div>

        <!-- Auto-Test Buttons Right -->
        <div class="d-flex flex-wrap gap-2">
          <button onclick="loadSampleFile('sample1.csv')" class="btn btn-sm btn-auto1">ðŸš€ Auto-Test-with-sample-1</button>
          <button onclick="loadSampleFile('sample2.csv')" class="btn btn-sm btn-auto2">ðŸš€ Auto-Test-with-sample-2</button>
          <button onclick="loadSampleFile('sample3.csv')" class="btn btn-sm btn-auto3">ðŸš€ Auto-Test-with-sample-3</button>
        </div>
      </div>
    </div>










    <div class="card shadow-sm p-4 mb-5 bg-secondary text-light border-0">
      <h5 class="card-title mb-3">Upload CSV File</h5>
      <form id="processForm" enctype="multipart/form-data">
        <div class="input-group">
          <input type="file" name="file" id="inputFile" accept=".csv" class="form-control bg-dark text-light border-light" required>
          <button type="submit" class="btn btn-success">Analyze</button>
        </div>
        <small id="fileName" class="text-secondary mt-2 d-block"></small>
      </form>
    </div>

    <div class="text-center my-4" id="loadingSpinner" style="display: none;">
      <div class="spinner-border text-info" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2 text-secondary">Processing file...</p>
    </div>

    <div id="resultSection" class="mb-5">
      <h4 class="mb-3">Prediction Result</h4>
      <div id="predictionOutput"></div>
    </div>

    <div>
      <h4 class="mb-3">Sensor & FFT Plots</h4>
      <div id="plotContainer" class="row g-4"></div>
    </div>
  </div>

  <!-- Toast for Error Message -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
    <div id="errorToast" class="toast bg-danger text-white" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header bg-dark text-white">
        <strong class="me-auto">Error</strong>
        <button type="button" class="btn-close btn-close-white ms-2 mb-1" data-bs-dismiss="toast"></button>
      </div>
      <div class="toast-body" id="errorToastBody"></div>
    </div>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
